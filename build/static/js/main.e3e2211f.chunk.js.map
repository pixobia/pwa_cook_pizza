{"version":3,"sources":["cookPizzaStore.js","CookPizzaContext.js","firebase.js","components/recipes/Recipe.style.js","components/recipes/Recipe.js","components/recipes/RecipeList.style.js","components/recipes/RecipeList.js","components/layouts/Container.style.js","components/pages/Home.js","components/inputs/AddButton.js","components/pages/Info.js","components/nav/Navigation.style.js","components/nav/Navigation.js","components/inputs/Button.js","components/inputs/InstallButton.js","components/nav/Footer.style.js","components/inputs/UpdateButton.js","components/nav/Footer.js","components/pages/Loading.style.js","components/pages/Loading.js","App.js","reportWebVitals.js","components/pages/Error.js","index.js"],"names":["createCookPizzaStore","loading","recipes","article_count","addArticle","this","CookPizzaContext","React","createContext","CookPizzaProvider","children","cookPizzaStore","useLocalStore","Provider","value","useCookPizzaStore","useContext","require","config","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","enablePersistence","synchronizeTabs","catch","err","console","log","getFirebaseRecipes","collection","get","error","Error","getRecipesFromFirebase","a","data","loadedRecipes","forEach","doc","push","getSettingsFromFirebase","cartRef","incrementShoppingCartCount","settingsCountRef","update","FieldValue","increment","askForPermissionToReceiveNotifications","messaging","requestPermission","getToken","token","StyledRecipe","styled","div","StyledFoodImg","img","StyledImgContainer","StyledCartImg","StyledTextarea","Recipe","props","store","navigator","serviceWorker","register","then","ready","addEventListener","event","undefined","state","updateShoppingCart","controller","postMessage","onClick","src","alt","recipe","category","title","procedure","StyledRecipeList","ul","StyledRecipeItem","li","RecipeList","recipeItems","map","useObserver","StyledContainerOuter","StyledContainerInner","Home","button","Info","StyledNavigation","Navigation","Button","InstallButton","useState","supportsPWA","setSupportsPWA","promptInstall","setPromptInstall","useEffect","window","e","preventDefault","prompt","StyledFooter","footer","StyledCheckoutCart","UpdateButton","refreshing","showBtn","setShowBtn","showUpdateButton","reg","location","reload","callback","awaitStateChange","installing","waiting","listenForWaitingServiceWorker","Footer","spinning","keyframes","StyledLoader","Loading","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ErrorBoundary","hasError","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e3e2211f.chunk.js","sourcesContent":["//store is a simple js object\nexport function createCookPizzaStore() {\n  return {\n    loading: 0,\n    recipes: null,\n    article_count: 0,\n    addArticle() {\n      this.article_count += 1;\n    },\n  };\n}\n","import React from \"react\";\nimport { createCookPizzaStore } from \"./cookPizzaStore\";\nimport { useLocalStore } from \"mobx-react-lite\";\n\nconst CookPizzaContext = React.createContext(null);\n\nexport const CookPizzaProvider = ({ children }) => {\n  const cookPizzaStore = useLocalStore(createCookPizzaStore);\n\n  return (\n    <CookPizzaContext.Provider value={cookPizzaStore}>\n      {children}\n    </CookPizzaContext.Provider>\n  );\n};\n\nexport const useCookPizzaStore = () => React.useContext(CookPizzaContext);\n","import firebase from \"firebase\";\nimport \"firebase/firestore\";\nrequire(\"dotenv\").config();\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_APPID,\n};\n\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n//const messaging = firebase.messaging();\nconst db = firebase\n  .firestore()\n  .enablePersistence({ synchronizeTabs: true })\n  .catch((err) => console.log(err));\n\nconst getFirebaseRecipes = () => {\n  try {\n    let data = firebase.firestore().collection(\"recipes\");\n    return data.get();\n  } catch (error) {\n    console.log(error);\n    throw new Error(\"Error: Getting Recipes\");\n  }\n};\n\nconst getRecipesFromFirebase = async () => {\n  try {\n    const data = await getFirebaseRecipes();\n    const loadedRecipes = [];\n    data.forEach((doc) => {\n      loadedRecipes.push(doc.data());\n    });\n\n    return loadedRecipes;\n  } catch (error) {\n    console.log(error);\n    throw new Error(\"Error: Getting Data\");\n  }\n};\n\nconst getSettingsFromFirebase = async () => {\n  try {\n    const cartRef = firebase\n      .firestore()\n      .collection(\"settings\")\n      .doc(\"shopping_cart\");\n    const doc = await cartRef.get();\n    return doc.data().article_count;\n  } catch (error) {\n    console.log(error);\n    throw new Error(\"Error: Getting Data\");\n  }\n};\n\n// const resetShoppingCartCount = async () => {\n//   try {\n//     const cartRef = firebase.firestore().collection('settings').doc('shopping_cart');\n//     const res = await cartRef.update({article_count: 0});\n//   }\n//   catch (error) {\n//     console.log(error);\n//     throw new Error(\"Error: Updating Data\");\n//   }\n// }\n\nconst incrementShoppingCartCount = async () => {\n  try {\n    let settingsCountRef = firebase\n      .firestore()\n      .collection(\"settings\")\n      .doc(\"shopping_cart\");\n\n    await settingsCountRef.update({\n      article_count: firebase.firestore.FieldValue.increment(1),\n    });\n  } catch {\n    throw new Error(\"Error: Updating Data\");\n  }\n};\n\nexport const askForPermissionToReceiveNotifications = async () => {\n  try {\n    const messaging = firebase.messaging();\n    await messaging.requestPermission();\n    const token = await messaging.getToken();\n    console.log(\"Your token is:\", token);\n\n    return token;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport {\n  firebaseApp,\n  db,\n  getRecipesFromFirebase,\n  incrementShoppingCartCount,\n  getSettingsFromFirebase,\n};\n","import styled from \"styled-components\";\n\nexport const StyledRecipe = styled.div`\n  border-radius: 20px;\n  position: relative;\n  background-color: white;\n  h2 {\n    color: #5e8e65;\n  }\n  h3 {\n    color: black;\n  }\n  p {\n    color: black;\n  }\n`;\n\nexport const StyledFoodImg = styled.img`\n  width: 100%;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n`;\n\nexport const StyledImgContainer = styled.div`\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  border-radius: 50%;\n  padding: 1rem;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  right: 10px;\n  top: 102px;\n  cursor: pointer;\n`;\n\nexport const StyledCartImg = styled.img`\n  width: 50px;\n  height: 50px;\n`;\n\nexport const StyledTextarea = styled.div`\n  padding: 2rem;\n`;\n","import React from \"react\";\nimport { useCookPizzaStore } from \"../../CookPizzaContext\";\nimport { incrementShoppingCartCount } from \"../../firebase\";\nimport {\n  StyledRecipe,\n  StyledFoodImg,\n  StyledCartImg,\n  StyledImgContainer,\n  StyledTextarea,\n} from \"./Recipe.style\";\n\nconst Recipe = (props) => {\n  const store = useCookPizzaStore();\n\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker\n      .register(\"./sw.js\")\n      .then(() => navigator.serviceWorker.ready)\n      .then(() => {\n        navigator.serviceWorker.addEventListener(\"message\", function (event) {\n          if (event.data && event.data.state !== undefined) {\n            store.article_count = event.data.state;\n          }\n        });\n      });\n  }\n\n  const stateToServiceWorker = (data) => {\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(data);\n    }\n  };\n\n  const updateShoppingCart = async () => {\n    try {\n      await store.addArticle();\n      await incrementShoppingCartCount();\n      await stateToServiceWorker({\n        state: store.article_count,\n      });\n    } catch (error) {\n      console.log(error);\n      throw new Error(\"Error: Updating Data\");\n    }\n  };\n\n  return (\n    <StyledRecipe>\n      <StyledImgContainer\n        onClick={() => {\n          updateShoppingCart();\n        }}\n      >\n        <StyledCartImg\n          src=\"/assets/images/shopping-cart.png\"\n          alt=\"Einkaufswagen\"\n        />\n      </StyledImgContainer>\n      {props.recipe.category === \"Vorpseise\" && (\n        <StyledFoodImg\n          src=\"/assets/images/starter.png\"\n          alt=\"Bild einer Vorpseise\"\n        />\n      )}\n      {props.recipe.category === \"Hauptspeise\" && (\n        <StyledFoodImg\n          src=\"/assets/images/main_dish.png\"\n          alt=\"Bild einer Hauptspeise\"\n        />\n      )}\n      {props.recipe.category === \"Dessert\" && (\n        <StyledFoodImg\n          src=\"/assets/images/dessert.png\"\n          alt=\"Bild eines Desserts\"\n        />\n      )}\n      <StyledTextarea>\n        <h2>{props.recipe.title}</h2>\n        <h3>{props.recipe.category}</h3>\n        <p>{props.recipe.procedure}</p>\n      </StyledTextarea>\n    </StyledRecipe>\n  );\n};\n\nexport default Recipe;\n","import styled from \"styled-components\";\n\nexport const StyledRecipeList = styled.ul`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style: none;\n`;\n\nexport const StyledRecipeItem = styled.li`\n  background-color: white;\n  width: 40%;\n  border-radius: 20px;\n  margin-bottom: 50px;\n  box-shadow: 0px 0px 9px gray;\n`;\n","import React from \"react\";\nimport { useCookPizzaStore } from \"../../CookPizzaContext\";\nimport { useObserver } from \"mobx-react-lite\";\nimport Recipe from \"./Recipe\";\nimport { StyledRecipeList, StyledRecipeItem } from \"./RecipeList.style\";\n\nconst RecipeList = () => {\n  const store = useCookPizzaStore();\n  const recipeItems = store.recipes.map((recipe) => (\n    <StyledRecipeItem key={recipe.title}>\n      <Recipe recipe={recipe} />\n    </StyledRecipeItem>\n  ));\n\n  return useObserver(() => <StyledRecipeList>{recipeItems}</StyledRecipeList>);\n};\n\nexport default RecipeList;\n","import styled from \"styled-components\";\n\nexport const StyledContainerOuter = styled.div`\n  background-color: #eaeaea;\n  padding-top: 40px;\n  padding-bottom: 20px;\n  border-top-right-radius: 40px;\n  min-height: 70vh;\n`;\n\nexport const StyledContainerInner = styled.div`\n  display: flex;\n  align-items: center;\n  max-width: 800px;\n  margin: 0 auto;\n  flex-direction: column;\n  justify-content: space-around;\n`;\n","import React from \"react\";\nimport RecipeList from \"../recipes/RecipeList\";\nimport {\n  StyledContainerOuter,\n  StyledContainerInner,\n} from \"../layouts/Container.style\";\n\nimport { AddButton } from \"../inputs/AddButton\";\n\nconst Home = () => {\n\n  return (\n      <StyledContainerOuter>\n        <StyledContainerInner>\n          <RecipeList />\n          {/*<AddButton><p>+</p></AddButton>*/}\n        </StyledContainerInner>\n      </StyledContainerOuter>\n  );\n};\n\nexport default Home;\n","import styled from \"styled-components\";\n\nexport const AddButton = styled.button`\n  background-color: #CE3A3A;\n  border-radius: 50%;\n  color: white;\n  font-size: 15px;\n  padding: 2rem;\n  box-shadow: none;\n`;\n","import React from \"react\";\nimport {\n  StyledContainerOuter,\n  StyledContainerInner,\n} from \"../layouts/Container.style\";\n\nconst Info = () => {\n\n  return (\n      <StyledContainerOuter>\n        <StyledContainerInner>\n          <p>\n            Alle Infos zur App!\n          </p>\n        </StyledContainerInner>\n      </StyledContainerOuter>\n  );\n};\n\nexport default Info;\n","import styled from \"styled-components\";\n\nexport const StyledNavigation = styled.div`\n  padding: 10px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  h1 {\n    color: white;\n    text-size: 20px;\n    display: inline;\n  }\n  \n  img {\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n  }\n`;\n","import React from \"react\";\nimport {StyledNavigation} from \"./Navigation.style\"\nimport {Link} from \"react-router-dom\";\n\nconst Navigation = () => {\n    return (\n        <StyledNavigation>\n            <h1>Cook & Pizza</h1>\n                <img src=\"./assets/images/info.svg\" alt=\"Informations Icon\" />\n        </StyledNavigation>\n    );\n};\n\nexport default Navigation;\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  background: transparent;\n  border-radius: 3px;\n  border: 1.5px solid white;\n  color: white;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  with: 200px;\n  height: 50px;\n  font-weight: bold;\n  cursor: pointer;\n  font-size: 15px;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Button } from \"./Button\";\n\nconst InstallButton = () => {\n  const [supportsPWA, setSupportsPWA] = useState(false);\n  const [promptInstall, setPromptInstall] = useState(null);\n\n  useEffect(() => {\n    const handler = (e) => {\n      e.preventDefault();\n      console.log(\"PWA is supported!\");\n      setSupportsPWA(true);\n      setPromptInstall(e);\n    };\n    window.addEventListener(\"beforeinstallprompt\", handler);\n\n    //return () => window.removeEventListener(\"transitionend\", handler);\n  }, []);\n\n  const install = (e) => {\n    e.preventDefault();\n    if (!promptInstall) {\n      return;\n    }\n    promptInstall.prompt();\n  };\n  if (!supportsPWA) {\n    return null;\n  }\n  return <Button onClick={install}>Installieren</Button>;\n};\n\nexport default InstallButton;\n","import styled from \"styled-components\";\n\nexport const StyledFooter = styled.footer`\n  background-color: #5e8e65;\n  padding: 1rem;\n  position: sticky;\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  padding-right: 30px;\n`;\n\nexport const StyledCheckoutCart = styled.div`\n  position: relative;\n  p {\n    top: -20px;\n    right: -10px;\n    position: absolute;\n    background-color: white;\n    color: #5e8e65;\n    padding: 0.5rem;\n    border-radius: 50%;\n    font-size: 10px;\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Button } from \"./Button\";\n\nconst UpdateButton = () => {\n  const [showBtn, setShowBtn] = useState(false);\n\n  const listenForWaitingServiceWorker = (reg, callback) => {\n    console.log(reg);\n    function awaitStateChange() {\n      reg.installing.addEventListener(\"statechange\", function () {\n        if (this.state === \"installed\") callback(reg);\n      });\n    }\n    if (!reg) return;\n    if (reg.waiting) return callback(reg);\n    if (reg.installing) awaitStateChange();\n    reg.addEventListener(\"updatefound\", awaitStateChange);\n  };\n\n  const showUpdateButton = (reg) => {\n    if (reg) {\n      setShowBtn(true);\n    }\n  };\n\n  const handle = (reg) => {\n    reg.waiting.postMessage(\"skipWaiting\");\n  };\n\n  let refreshing;\n  navigator.serviceWorker.addEventListener(\"controllerchange\", () => {\n    if (refreshing) return;\n    refreshing = true;\n    window.location.reload(true);\n  });\n\n  useEffect(() => {\n    navigator.serviceWorker.register(\"sw.js\").then((reg) => {\n      listenForWaitingServiceWorker(reg, showUpdateButton);\n    });\n  }, []);\n\n  if (showBtn) {\n    return <Button>Update</Button>;\n  }\n\n  return null;\n};\n\nexport default UpdateButton;\n","import React, { useEffect, useState } from \"react\";\nimport InstallButton from \"../inputs/InstallButton\";\nimport { StyledFooter, StyledCheckoutCart } from \"./Footer.style\";\nimport UpdateButton from \"../inputs/UpdateButton\";\nimport { useCookPizzaStore } from \"../../CookPizzaContext\";\nimport { useObserver } from \"mobx-react-lite\";\nimport { StyledCartImg } from \"../recipes/Recipe.style\";\nimport {\n  askForPermissionToReceiveNotifications,\n  getSettingsFromFirebase,\n} from \"../../firebase\";\nimport { Button } from \"../inputs/Button\";\n\nconst Footer = () => {\n  const store = useCookPizzaStore();\n\n  return useObserver(() => (\n    <StyledFooter>\n      <div>\n        <InstallButton />\n        <UpdateButton />\n        <Button onClick={askForPermissionToReceiveNotifications}>\n          Notifications\n        </Button>\n      </div>\n      <StyledCheckoutCart>\n        <StyledCartImg\n          src=\"/assets/images/shopping-cart.png\"\n          alt=\"Einkaufswagen\"\n        />\n        <p>{store.article_count}</p>\n      </StyledCheckoutCart>\n    </StyledFooter>\n  ));\n};\n\nexport default Footer;\n","import styled, { keyframes } from \"styled-components\";\n\nconst spinning = keyframes`\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n`;\n\nconst StyledLoader = styled.div`\n  & {\n    display: inline-block;\n    width: 80px;\n    height: 80px;\n  }\n  &:after {\n    content: \" \";\n    display: block;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border-radius: 50%;\n    border: 6px solid black;\n    border-color: black transparent black transparent;\n    animation: ${spinning} 1.2s linear infinite;\n  }\n`;\n\nexport default StyledLoader;\n","import React from \"react\";\nimport StyledLoader from \"./Loading.style\";\n\nconst Loading = () => {\n  return <StyledLoader />;\n};\n\nexport default Loading;\n","import \"./App.css\";\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useObserver } from \"mobx-react-lite\";\nimport { useCookPizzaStore } from \"./CookPizzaContext\";\nimport Home from \"./components/pages/Home\";\nimport Info from \"./components/pages/Info\";\nimport Navigation from \"./components/nav/Navigation\";\nimport Footer from \"./components/nav/Footer\";\nimport Loading from \"./components/pages/Loading\";\nimport { getRecipesFromFirebase, getSettingsFromFirebase } from \"./firebase\";\n\nfunction App() {\n  const store = useCookPizzaStore();\n  useEffect(async () => {\n    try {\n      store.recipes = await getRecipesFromFirebase();\n      store.article_count = await getSettingsFromFirebase();\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n  return useObserver(() => (\n    <>\n      <Navigation/>\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/info\">\n            {store.recipes === null ? <Loading /> : <Info />}\n          </Route>\n          <Route path=\"/\">\n            {store.recipes === null ? <Loading /> : <Home />}\n          </Route>\n        </Switch>\n      </BrowserRouter>\n      <Footer />\n    </>\n  ));\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>;\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { CookPizzaProvider } from \"./CookPizzaContext\";\nimport ErrorBoundary from \"./components/pages/Error\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookPizzaProvider>\n      <ErrorBoundary>\n        <App />\n      </ErrorBoundary>\n    </CookPizzaProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}