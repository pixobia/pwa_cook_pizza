(this.webpackJsonppwa_pizza_cook=this.webpackJsonppwa_pizza_cook||[]).push([[0],{48:function(e,n,t){},50:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),c=t(29),i=t.n(c),o=(t(48),t(14)),s=t.n(o),u=t(18),p=(t(50),t(32)),l=t(10),d=t(19);function b(){return{loading:0,recipes:null,article_count:0,addArticle:function(){this.article_count+=1}}}var j=t(3),h=a.a.createContext(null),x=function(e){var n=e.children,t=Object(d.a)(b);return Object(j.jsx)(h.Provider,{value:t,children:n})},f=function(){return a.a.useContext(h)},g=t(21);t(56);t(57).config();g.a.initializeApp({apiKey:"AIzaSyBrKSryFJhsu6tz4XeUSYDYjDwvKnfRIyk",authDomain:"pwa-cook-pizza.firebaseapp.com",projectId:"pwa-cook-pizza",storageBucket:"pwa-cook-pizza.appspot.com",messagingSenderId:"4077784197",appId:"1:4077784197:web:87999e9d9abadf63156dec"}),g.a.firestore().enablePersistence({synchronizeTabs:!0}).catch((function(e){return console.log(e)}));var O,v,w,m,k,y,E,z,_,D,C,I,S,W,A,F,B=function(){try{return g.a.firestore().collection("recipes").get()}catch(e){throw console.log(e),new Error("Error: Getting Recipes")}},L=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:return n=e.sent,t=[],n.forEach((function(e){t.push(e.data())})),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new Error("Error: Getting Data");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g.a.firestore().collection("settings").doc("shopping_cart"),e.next=4,n.get();case 4:return t=e.sent,e.abrupt("return",t.data().article_count);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error("Error: Getting Data");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g.a.firestore().collection("settings").doc("shopping_cart"),e.next=4,n.update({article_count:g.a.firestore.FieldValue.increment(1)});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error: Updating Data");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g.a.messaging(),e.next=4,n.requestPermission();case 4:return e.next=6,n.getToken();case 6:return t=e.sent,console.log("Your token is:",t),e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),G=t(7),J=t(8),K=J.a.div(O||(O=Object(G.a)(["\n  border-radius: 20px;\n  position: relative;\n  background-color: white;\n  h2 {\n    color: #5e8e65;\n  }\n  h3 {\n    color: black;\n  }\n  p {\n    color: black;\n  }\n"]))),V=J.a.img(v||(v=Object(G.a)(["\n  width: 100%;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n"]))),Y=J.a.div(w||(w=Object(G.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  border-radius: 50%;\n  padding: 1rem;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  right: 10px;\n  top: 102px;\n  cursor: pointer;\n"]))),H=J.a.img(m||(m=Object(G.a)(["\n  width: 50px;\n  height: 50px;\n"]))),M=J.a.div(k||(k=Object(G.a)(["\n  padding: 2rem;\n"]))),R=function(e){var n=f();"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((function(){return navigator.serviceWorker.ready})).then((function(){navigator.serviceWorker.addEventListener("message",(function(e){e.data&&void 0!==e.data.state&&(n.article_count=e.data.state)}))}));var t=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.addArticle();case 3:return e.next=5,T();case 5:return e.next=7,t={state:n.article_count},void(navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),new Error("Error: Updating Data");case 13:case"end":return e.stop()}var t}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(K,{children:[Object(j.jsx)(Y,{onClick:function(){t()},children:Object(j.jsx)(H,{src:"/assets/images/shopping-cart.png",alt:"Einkaufswagen"})}),"Vorpseise"===e.recipe.category&&Object(j.jsx)(V,{src:"/assets/images/starter.png",alt:"Bild einer Vorpseise"}),"Hauptspeise"===e.recipe.category&&Object(j.jsx)(V,{src:"/assets/images/main_dish.png",alt:"Bild einer Hauptspeise"}),"Dessert"===e.recipe.category&&Object(j.jsx)(V,{src:"/assets/images/dessert.png",alt:"Bild eines Desserts"}),Object(j.jsxs)(M,{children:[Object(j.jsx)("h2",{children:e.recipe.title}),Object(j.jsx)("h3",{children:e.recipe.category}),Object(j.jsx)("p",{children:e.recipe.procedure})]})]})},q=J.a.ul(y||(y=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style: none;\n"]))),N=J.a.li(E||(E=Object(G.a)(["\n  background-color: white;\n  width: 40%;\n  border-radius: 20px;\n  margin-bottom: 50px;\n  box-shadow: 0px 0px 9px gray;\n"]))),X=function(){var e=f().recipes.map((function(e){return Object(j.jsx)(N,{children:Object(j.jsx)(R,{recipe:e})},e.title)}));return Object(d.b)((function(){return Object(j.jsx)(q,{children:e})}))},Q=J.a.div(z||(z=Object(G.a)(["\n  background-color: #eaeaea;\n  padding-top: 40px;\n  padding-bottom: 20px;\n  border-top-right-radius: 40px;\n  min-height: 70vh;\n"]))),Z=J.a.div(_||(_=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  max-width: 800px;\n  margin: 0 auto;\n  flex-direction: column;\n  justify-content: space-around;\n"]))),$=(J.a.button(D||(D=Object(G.a)(["\n  background-color: #CE3A3A;\n  border-radius: 50%;\n  color: white;\n  font-size: 15px;\n  padding: 2rem;\n  box-shadow: none;\n"]))),function(){return Object(j.jsx)(Q,{children:Object(j.jsx)(Z,{children:Object(j.jsx)(X,{})})})}),ee=function(){return Object(j.jsx)(Q,{children:Object(j.jsx)(Z,{children:Object(j.jsx)("p",{children:"Alle Infos zur App!"})})})},ne=J.a.div(C||(C=Object(G.a)(["\n  padding: 10px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  h1 {\n    color: white;\n    text-size: 20px;\n    display: inline;\n  }\n  \n  img {\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n  }\n"]))),te=function(){return Object(j.jsxs)(ne,{children:[Object(j.jsx)("h1",{children:"Cook & Pizza"}),Object(j.jsx)("img",{src:"./assets/images/info.svg",alt:"Informations Icon"})]})},re=t(28),ae=J.a.button(I||(I=Object(G.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 1.5px solid white;\n  color: white;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  with: 200px;\n  height: 50px;\n  font-weight: bold;\n  cursor: pointer;\n  font-size: 15px;\n"]))),ce=function(){var e=Object(r.useState)(!1),n=Object(re.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(null),i=Object(re.a)(c,2),o=i[0],s=i[1];Object(r.useEffect)((function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),console.log("PWA is supported!"),a(!0),s(e)}))}),[]);return t?Object(j.jsx)(ae,{onClick:function(e){e.preventDefault(),o&&o.prompt()},children:"Installieren"}):null},ie=J.a.footer(S||(S=Object(G.a)(["\n  background-color: #5e8e65;\n  padding: 1rem;\n  position: sticky;\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  padding-right: 30px;\n"]))),oe=J.a.div(W||(W=Object(G.a)(["\n  position: relative;\n  p {\n    top: -20px;\n    right: -10px;\n    position: absolute;\n    background-color: white;\n    color: #5e8e65;\n    padding: 0.5rem;\n    border-radius: 50%;\n    font-size: 10px;\n  }\n"]))),se=function(){var e,n=Object(r.useState)(!1),t=Object(re.a)(n,2),a=t[0],c=t[1],i=function(e){e&&c(!0)};return navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(e=!0,window.location.reload(!0))})),Object(r.useEffect)((function(){navigator.serviceWorker.register("sw.js").then((function(e){!function(e,n){function t(){e.installing.addEventListener("statechange",(function(){"installed"===this.state&&n(e)}))}if(console.log(e),e){if(e.waiting)return n(e);e.installing&&t(),e.addEventListener("updatefound",t)}}(e,i)}))}),[]),a?Object(j.jsx)(ae,{children:"Update"}):null},ue=function(){var e=f();return Object(d.b)((function(){return Object(j.jsxs)(ie,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(ce,{}),Object(j.jsx)(se,{}),Object(j.jsx)(ae,{onClick:U,children:"Notifications"})]}),Object(j.jsxs)(oe,{children:[Object(j.jsx)(H,{src:"/assets/images/shopping-cart.png",alt:"Einkaufswagen"}),Object(j.jsx)("p",{children:e.article_count})]})]})}))},pe=Object(J.b)(A||(A=Object(G.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n"]))),le=J.a.div(F||(F=Object(G.a)(['\n  & {\n    display: inline-block;\n    width: 80px;\n    height: 80px;\n  }\n  &:after {\n    content: " ";\n    display: block;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border-radius: 50%;\n    border: 6px solid black;\n    border-color: black transparent black transparent;\n    animation: '," 1.2s linear infinite;\n  }\n"])),pe),de=function(){return Object(j.jsx)(le,{})};var be=function(){var e=f();return Object(r.useEffect)(Object(u.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L();case 3:return e.recipes=n.sent,n.next=6,P();case 6:e.article_count=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),[]),Object(d.b)((function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(te,{}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/info",children:null===e.recipes?Object(j.jsx)(de,{}):Object(j.jsx)(ee,{})}),Object(j.jsx)(l.a,{path:"/",children:null===e.recipes?Object(j.jsx)(de,{}):Object(j.jsx)($,{})})]})}),Object(j.jsx)(ue,{})]})}))},je=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,65)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))},he=t(40),xe=t(41),fe=t(43),ge=t(42),Oe=function(e){Object(fe.a)(t,e);var n=Object(ge.a)(t);function t(e){var r;return Object(he.a)(this,t),(r=n.call(this,e)).state={hasError:!1},r}return Object(xe.a)(t,[{key:"render",value:function(){return this.state.hasError?Object(j.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component);i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{children:Object(j.jsx)(Oe,{children:Object(j.jsx)(be,{})})})}),document.getElementById("root")),je()}},[[64,1,2]]]);
//# sourceMappingURL=main.e3e2211f.chunk.js.map